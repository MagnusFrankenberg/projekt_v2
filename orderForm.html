<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OrderForm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">


        <nav class="navbar navbar-expand-md">
            <div class="container">
              <a href="#" class="navbar-brand">MyStore</a>
              <button class="navbar-toggler" data-bs-toggle="collapse"
              data-bs-target="#nav">
              <div class="navbar-toggler-icon"></div>
            </button>
              <div class="collapse navbar-collapse" id="nav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                      <a href="./assortment.html" class="nav-link active">Products</a>
                    </li>
                  <li class="nav-item">
                    <a href="./orderForm.html" class="nav-link active">Checkout</a>
                  </li>
                  <li class="nav-item">
                    <a href="#" class="nav-link">Contact</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>


          <h1 class="page_header">Checkout</h1>

        <div class="row row-cols-1 row-cols-md-2 gy-3 gx-5">

        <div class="col p-3 d-flex flex-column" id="yourProducts">
            <h3 class="mt-2">Your Products</h3>
            <div id="cart">
              <!--Cart-items added here-->
            </div>
            <div id="cartFooter" class="flex-fill">
                <h4 id="totalPrice">Total Price:</h4>
                <button class="btn btn-outline-danger" id="btn_clearCart">Clear Cart</button>
            </div>
           
        </div>
        <div class="col p-3" id="yourInformation">
          <h3 class="mt-2">Your Information</h3>


           <!--Your Information Form-->
        <form>
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" id="name" placeholder="Firstname Lastname">
            
            </div>
            
            <div class="form-group">
              <label for="phoneNumber">Phone Number</label>
              <input type="text" class="form-control" id="phoneNumber" placeholder="+46 XX XX XX XXX">
             
            </div>

            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" class="form-control" id="email" placeholder="email@xxx.com">
               
              </div>

              <div class="form-group">
                <label for="adress">Address</label>
                <input type="text" class="form-control" id="adress" placeholder="5 abc street">
              </div>

              <div class="form-group">
                <label for="postalCode">Postal Code</label>
                <input type="text" class="form-control" id="postalCode" placeholder="XXX XX">
              </div>

              <div class="form-group">
                <label for="city">City</label>
                <input type="text" class="form-control" id="city" placeholder="CityName">
              </div>
          
            <div class="form-group form-check">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">Check me out</label>
            </div>
            <button type="submit" class="btn btn-success">Submit order & Pay</button>
          </form>


        </div>
        </div>
    </div>

<script>


  //funktion för att visa shoppingcart 
function retrieveCart(){
  let shoppingCart = JSON.parse(localStorage.getItem("shoppingCart")) || [];
  let totalPrice = 0;

  shoppingCart.forEach(e => {
    totalPrice += e.price;
  });

  totalPrice = totalPrice.toFixed(2);
  console.log(totalPrice);

  document.getElementById('totalPrice').innerHTML = `Total Price: €${totalPrice}`;


  const cartDiv = document.getElementById('cart');
  cartDiv.innerHTML ="";

  if(shoppingCart.length){
  shoppingCart.forEach(e=>{

    let item = document.createElement('div');
    item.innerHTML = `${e.title}: €${e.price}`;
    cartDiv.appendChild(item);

  })
  
}

}

//eventhanterare för 
document.getElementById("btn_clearCart").addEventListener("click", () => {
  localStorage.removeItem('shoppingCart');
  document.getElementById('totalPrice').innerHTML = `Total Price: €00,00`;
  document.getElementById('cart').innerHTML = "";
});

retrieveCart();


</script>

</body>
</html>